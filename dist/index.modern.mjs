import"isomorphic-unfetch";function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},t.apply(this,arguments)}class e{constructor(t){this.apiKey=void 0,this.clientKey=void 0,this.requestId=void 0,this.baseUrl=void 0,this.apiKey=t.apiKey,this.clientKey=t.clientKey,this.requestId=t.requestId||function(t){for(var e="",r=0;r<12;r++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}(),this.baseUrl=t.baseUrl||"https://api-sandbox.qorcommerce.io/v3"}async request(e,r,s){const n=new URL(`${this.baseUrl}${e}`);if(r){const t=new URLSearchParams;Object.entries(r).forEach(([e,r])=>{t.append(e,r)}),n.search=new URLSearchParams(t).toString()}const a=t({},s,{headers:{"Content-Type":"application/json","x-api-key":this.apiKey,"x-client-key":this.clientKey,"x-request-id":this.requestId}});return console.log("Sending Request",JSON.stringify(`${n}`),a),fetch(n,a).then(t=>{if(t.ok)return t.json();throw console.error("ERROR",t.statusText),new Error(t.statusText)})}}const r="/payment/transactions";class s extends e{fetchCardTransactionById(t){return this.request(`${r}/${t}`)}listCardTransactions(t){return this.request(`${r}`,t)}listCardTransactionsByProfileId(t){return this.request(`${r}`)}listCardTransactionsByBatchId(t){return this.request(`${r}`)}}class n extends e{fetchMarketplaceTransactionByBatchId(t){return this.request(`payment/transactions/mp/batch/${t}`)}createMarketplaceMerchantAccount(t){return this.request("/channels/new_marketplace_merchant",{method:"POST",body:JSON.stringify(t)})}}class a{constructor(t){this.transactions=void 0,this.marketplace=void 0,this.transactions=new s(t),this.marketplace=new n(t)}}export{a as QorDirectSDK};
